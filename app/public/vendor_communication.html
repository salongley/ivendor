<!DOCTYPE html>

<html>

<head>
    <meta charset="utf-8" />

    <title>iVendor</title>
    <link rel="stylesheet" href="assets/css/bootstrap.css">
    <link rel="stylesheet" href="assets/fonts/fontawesome-all.min.css">
    <link rel="stylesheet" href="assets/fonts/font-awesome.min.css">
    <link rel="stylesheet" href="assets/css/jquery-ui.css">
    <link rel="stylesheet" href="assets/css/jquery-ui.theme.css">
    <link rel="stylesheet" href="assets/css/jquery.dynatable.css">
    <link rel="stylesheet" href="assets/css/element/main.css">
    <link rel="stylesheet" href="assets/css/element/container.css">
    <link rel="stylesheet" href="assets/css/element/header.css">
    <link rel="stylesheet" href="assets/css/element/footer.css">
    <link rel="stylesheet" href="assets/css/element/table.css">
    <link rel="stylesheet" href="assets/css/element/pagination.css">
    <link rel="stylesheet" href="assets/css/element/date-picker.css">
    <link rel="stylesheet" href="assets/css/element/time-picker.css">
    <link rel="stylesheet" href="assets/css/element/time-select.css">
    <link rel="stylesheet" href="assets/css/element/autocomplete.css">
    <link rel="stylesheet" href="assets/css/element/checkbox.css">
    <link rel="stylesheet" href="assets/css/element/dialog.css">
    <link rel="stylesheet" href="assets/css/element/input.css">
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <link rel="stylesheet" href="assets/css/styles.css">
    <link rel="icon" type="image/png" href="favicon.png">
</head>

<body>
    <div id="vendorCommunication">
        <el-container direction='vertical'>
            <el-header>
                <h1 style="padding-bottom:20px"><i class="fab fa-apple"></i>iVendor</h1>
            </el-header>
            <el-main>
                <h3>Job Details</h3>

            </el-main>
            <el-main>
                <h4>Job Summary - {{job.jobID}} {{job.jobDetails[0].resources.resourceTypeName}}: {{job.vendor}}</h4>
                <div>
                    <h5>
                        <span v-for="jd in job.jobDetails">
                            Date: {{formatDate(jd.Date) }}
                            <span v-for="(resourceElement, el) in jd.resources.resourceElements">

                                <span v-for="count in resourceElement.elementCount ">
                                    <i v-bind:class="resourceElement.icon"></i>
                                </span>
                            </span>
                            <span v-if="jd.addOns.flightInfo != '' "><i class="fas fa-plane"></i></span>
                            <span v-if="jd.addOns.hotelInfo != '' "><i class="fas fa-hotel"></i></span>
                            <span v-if="jd.addOns.overnightSecurity "><i class="fas fa-moon"></i></span>

                            <span v-if="jd.bookingComments.length > 0"><i class="fas fa-comment text-primary"></i></span>
                    </h5>
                    </span>
                </div>
            </el-main>
            <el-main>
                <h4>Previous comments</h4>
                <el-table :data="job.vendorComments" style="width: 100%">
                    <el-table-column prop="date" label="Date" width="180">
                    </el-table-column>
                    <el-table-column prop="comment" label="Comment" width="300">
                    </el-table-column>
                    <el-table-column prop="authorName" label="Author" width="180">
                    </el-table-column>
                    <el-table-column prop="icon" label="Organisation" width="180">
                    </el-table-column>
                </el-table>


            </el-main>

            <el-main>
                <h5>Comments</h5>
                <el-input type="textarea" :rows="2" placeholder="Please comment" v-model="vendorComment.comment">
                </el-input>
            </el-main>
            <el-main>
                <h5>Author</h5>
                <el-input placeholder="Please Name" v-model="vendorComment.authorName">
                </el-input>
            </el-main>
            <el-main>
                <el-button type="primary" @click="saveComments()">Save comments
                </el-button>
            </el-main>
        </el-container>

    </div>

    <!-- VueJS -->
    <!-- Axios performs AJAX communication -->
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="//unpkg.com/vue"></script>
    <script src="//unpkg.com/element-ui"></script>
    <script src="//unpkg.com/element-ui/lib/umd/locale/en.js"></script>
    <script>
        ELEMENT.locale(ELEMENT.lang.en)
    </script>
    <script type="text/javascript" src="assets/js/libraries/ivendor/vendor_communication.js"></script>
    <script src="assets/js/libraries/moment.js" type="text/javascript">
    </script>
    <!-- used to manipulate dates and times -->
</body>

</html>